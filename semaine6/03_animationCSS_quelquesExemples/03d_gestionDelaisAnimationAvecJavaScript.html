<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <title>03d - Gestion des délais d'animation avec JavaScript</title>

        <style>
            /* Normalisation supplémentaire
             * =============================================== */

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            /* Mise en page
             * =============================================== */

            body {
                font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
                width: 100vw;
                height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            section {
                width: 100%;
                flex-grow: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                background: #000;
                gap: 0 1vw;
            }

            section.vague div {
                width: 2vw;
                height: 30vh;
                background: linear-gradient(45deg, cyan, #fff);
                border-radius: 1vw;
            }

            /* Animations CSS
            =============================================== */
            @keyframes animation-vague {
                from,
                to {
                    transform: scale(0);
                }
                50% {
                    transform: scale(1);
                }
            }

            /* Affectation de l'animations CSS à la classe 'vague'
            * Les délais pour l'animation de chaque div sont affectés avec JavaScript
            * ======================================================================== */
            .vague div {
                animation: animation-vague 1s infinite alternate;
            }

        </style>
    </head>

    <body>
        <header>
            <h1>Animer plusieurs éléments avec la même classe CSS...</h1>
            <h3>Déclarer les délais d'animation (<code>animation-delay</code>) avec JavaScript...</h3>
        </header>

        <section class="vague">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </section>

        <script>
            //Récupérer toutes les <div> dans la section ayant la classe .vague
            let lesDivs = document.querySelectorAll('section.vague div') ;

            //Attribuer des délais progressifs de 0.1s avec une boucle for
            // lesDivs.forEach(
            //     function(unDiv, i) {
            //         unDiv.style.animationDelay = (i * 0.1) + 's';
            //     }
            // );

            for(let i=0; i<lesDivs.length; i++) {
                lesDivs[i].style.animationDelay = (i * 0.1) + 's';
            }

        </script>
    </body>
</html>
